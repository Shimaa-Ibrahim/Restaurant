<div class="container m-5">
  <!-- recent reservations -->
  <div class="m-5" *ngIf="recentReservation?.length > 0; else book">
    <mat-card>
      <h4>Your Recent Reservations</h4>
    </mat-card>
    <br />
    <mat-card *ngFor="let book of recentReservation" class="mb-3">
      <table>
        <tr>
          <td class="text-secondary">Table Number :</td>
          <td>{{ book.tables.tableNumber }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Date :</td>
          <td>{{ book.reservationDate | slice: 0:10 }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Members Number :</td>
          <td>{{ book.membersNumber }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Your book starts at :</td>
          <td>{{ book.startTime }}</td>
        </tr>
        <tr>
          <td class="text-secondary">And end at:</td>
          <td>{{ book.endTime }}</td>
        </tr>
      </table>
    </mat-card>
  </div>

  <!-- old reservations -->
  <div class="m-5" *ngIf="myReservation?.length > 0">
    <mat-card>
      <h4>Your Reservations</h4>
    </mat-card>
    <br />

    <mat-card *ngFor="let book of myReservation" class="mb-3">
      <table>
        <tr>
          <td class="text-secondary">Table Number :</td>
          <td>{{ book.tables.tableNumber }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Date :</td>
          <td>{{ book.reservationDate | slice: 0:10 }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Members Number :</td>
          <td>{{ book.membersNumber }}</td>
        </tr>
        <tr>
          <td class="text-secondary">Your book starts at :</td>
          <td>{{ book.startTime }}</td>
        </tr>
        <tr>
          <td class="text-secondary">And end at:</td>
          <td>{{ book.endTime }}</td>
        </tr>
      </table>
    </mat-card>
  </div>

  <!-- book form -->
  <ng-template #book>
    <div class="h3">
      Book A Table
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="d-flex w-100">
        <div class="mr-5">
          <p>Choose the date</p>
          <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date" />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="ml-3 mr-5">
          <p>Time</p>
          <mat-form-field appearance="fill">
            <mat-label>Start at</mat-label>
            <input matInput type="time" formControlName="start" />
            <i class="fa fa-clock"></i>
          </mat-form-field>
        </div>
        <div class="ml-3 mr-5">
          <p>Till:</p>
          <mat-form-field appearance="fill">
            <mat-label>end time</mat-label>
            <input matInput type="time" formControlName="end" />
          </mat-form-field>
        </div>
        <div class="mx-4">
          <p>Members Number</p>
          <mat-form-field appearance="fill">
            <mat-label>Members Number</mat-label>
            <input matInput type="number" min="1" formControlName="members" />
          </mat-form-field>
        </div>
      </div>
      <div>
        <button mat-raised-button class="mt-3">Book Now</button>
      </div>
    </form>
    <div *ngIf="errors">
      <div class="alert alert-danger m-3" role="alert" *ngIf="errors">
        {{ errors }}
      </div>
    </div>
  </ng-template>
</div>
